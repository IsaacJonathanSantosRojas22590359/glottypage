{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ud83d\ude80 Sistema GLOTTY - Documentaci\u00f3n T\u00e9cnica","text":"<p>Bienvenido a la documentaci\u00f3n oficial del Sistema GLOTTY desarrollado por Axolotl Solutions.</p>"},{"location":"#proyecto","title":"\ud83d\udccb Proyecto","text":"<p>Sistema de gesti\u00f3n acad\u00e9mica desarrollado en Laravel para instituciones educativas.</p>"},{"location":"#sprint-actual","title":"\ud83c\udfaf Sprint Actual","text":"<p>Sprint 1 Completado \u2705 - Autenticaci\u00f3n y CRUD de Profesores</p>"},{"location":"#equipo","title":"\ud83d\udc65 Equipo","text":"<ul> <li>8 integrantes especializados</li> <li>Metodolog\u00eda Scrum</li> <li>Desarrollo \u00e1gil</li> </ul> <p>Ver documentaci\u00f3n del Sprint 1 \u2192</p>"},{"location":"equipo/","title":"\ud83d\udc65 Equipo Axolotl Solutions","text":""},{"location":"equipo/#integrantes-del-equipo","title":"Integrantes del Equipo","text":"Nombre Rol Responsabilidades Daniel Martinez Hernandez Scrum Master / Product Owner Gesti\u00f3n del proyecto, liderazgo t\u00e9cnico, toma de decisiones Mauricio Dar\u00edo Sandoval Mandujano Desarrollador Desarrollo backend, l\u00f3gica de negocio, base de datos An\u00edbal Atzi Zarate Hern\u00e1ndez Dise\u00f1ador Dise\u00f1o de interfaces, experiencia de usuario, prototipos Leonardo Daniel Montes Barajas Dise\u00f1ador Implementaci\u00f3n de interfaces, CSS, dise\u00f1o frontend Claudio Axel Ponce Guerrero QA Control de calidad, pruebas, est\u00e1ndares de c\u00f3digo Juan Enrique Basurto Luna Analista An\u00e1lisis de requisitos, documentaci\u00f3n t\u00e9cnica Joshua Garc\u00eda Sol\u00eds Tester Pruebas funcionales, reporte de bugs, testing Isaac Jonathan Santos Rojas Documentador Documentaci\u00f3n, gesti\u00f3n de conocimiento, manuales"},{"location":"equipo/#metodologia-de-trabajo","title":"Metodolog\u00eda de Trabajo","text":"<p>Trabajamos con Metodolog\u00eda Scrum en sprints semanales.</p>"},{"location":"equipo/#flujo-de-desarrollo","title":"Flujo de Desarrollo","text":"<ol> <li>Planificaci\u00f3n: Definir objetivos del sprint</li> <li>Desarrollo: Codificaci\u00f3n y pruebas diarias</li> <li>Revisi\u00f3n: Demo de funcionalidades completadas</li> <li>Retrospectiva: Mejoras continuas del proceso</li> </ol>"},{"location":"equipo/#tecnologias-que-manejamos","title":"Tecnolog\u00edas que Manejamos","text":"<ul> <li>Backend: Laravel, PHP, PostgreSQL</li> <li>Frontend: HTML, CSS, JavaScript, Blade</li> <li>Herramientas: Git, GitHub, MkDocs</li> <li>Metodolog\u00edas: Scrum</li> </ul> <p>Equipo de desarrollo - Sistema GLOTTY</p>"},{"location":"sprint-1/","title":"Sprint 1 - Autenticaci\u00f3n y CRUD de Profesores","text":"<p>Per\u00edodo: 24 Octubre - 5 Noviembre 2024 Estado: \u2705 Completado Equipo: Axolotl Solutions</p>"},{"location":"sprint-1/#objetivo-del-sprint","title":"\ud83c\udfaf Objetivo del Sprint","text":"<p>\"Desarrollar el sistema de autenticaci\u00f3n unificada y el m\u00f3dulo CRUD b\u00e1sico para la gesti\u00f3n de profesores\"</p>"},{"location":"sprint-1/#metricas","title":"\ud83d\udcca M\u00e9tricas","text":"<ul> <li>Duraci\u00f3n: 7 d\u00edas</li> <li>\u00cdtems Completados: 2 de 2 (100%)</li> <li>Definici\u00f3n de Hecho: C\u00f3digo escrito, probado, integrado y documentado</li> </ul>"},{"location":"sprint-1/#tecnologias-implementadas","title":"\ud83d\udd27 Tecnolog\u00edas Implementadas","text":"<ul> <li>Backend: Laravel, Eloquent ORM</li> <li>Frontend: Blade, Tailwind CSS  </li> <li>Base de Datos: PostgreSQL</li> <li>Autenticaci\u00f3n: MiddleWare</li> </ul>"},{"location":"sprint-1/#entregables-principales","title":"\ud83d\udcdd Entregables Principales","text":""},{"location":"sprint-1/#1-sistema-de-autenticacion-unificada","title":"1. Sistema de Autenticaci\u00f3n Unificada","text":"<p>Login seguro para 3 tipos de usuario: - Alumnos - Profesores - Coordinadores</p>"},{"location":"sprint-1/#2-crud-completo-de-profesores","title":"2. CRUD Completo de Profesores","text":"<ul> <li>Crear nuevos profesores</li> <li>Listar profesores existentes</li> <li>Editar informaci\u00f3n</li> <li>Eliminar con validaciones</li> </ul>"},{"location":"sprint-1/#disenos-implementados","title":"\ud83c\udfa8 Dise\u00f1os Implementados","text":""},{"location":"sprint-1/#formulario-de-login","title":"Formulario de Login","text":""},{"location":"sprint-1/#formulario-de-registro","title":"Formulario de Registro","text":""},{"location":"sprint-1/#codigo","title":"\ud83d\udccb C\u00f3digo","text":""},{"location":"sprint-1/#authcontrollerphp","title":"AuthController.php","text":"<p>```php CODIGO PRINCIPAL AUTH CONTROLLER: &lt;?php namespace App\\Http\\Controllers;</p> <p>use Illuminate\\Http\\Request; use Illuminate\\Support\\Facades\\Auth; use Illuminate\\Support\\Facades\\Hash; use App\\Models\\Usuario; use App\\Models\\Profesor; use App\\Models\\Coordinador; use App\\Models\\Preregistro;</p> <p>class AuthController extends Controller {     /*      * LOGIN UNIFICADO CON GUARDS - VERSI\u00d3N CORREGIDA      /     public function login(Request $request)     {         $request-&gt;validate([             'email' =&gt; 'required|string|email',             'password' =&gt; 'required|string',         ]);</p> <pre><code>    $email = $request-&gt;email;\n    $password = $request-&gt;password;\n\n    // \u2705 CORREGIDO: Intentar autenticar como COORDINADOR (verificaci\u00f3n manual)\n    $coordinador = Coordinador::where('correo_coordinador', $email)-&gt;first();\n    if ($coordinador &amp;&amp; Hash::check($password, $coordinador-&gt;contrase\u00f1a)) {\n        Auth::guard('coordinador')-&gt;login($coordinador);\n        return $this-&gt;redirectByGuard('coordinador');\n    }\n\n    // \u2705 CORREGIDO: Intentar autenticar como PROFESOR (verificaci\u00f3n manual)\n    $profesor = Profesor::where('correo_profesor', $email)-&gt;first();\n    if ($profesor &amp;&amp; Hash::check($password, $profesor-&gt;contrase\u00f1a)) {\n        Auth::guard('profesor')-&gt;login($profesor);\n        return $this-&gt;redirectByGuard('profesor');\n    }\n\n    // \u2705 Intentar autenticar como ALUMNO (con correo personal o institucional)\n    $usuario = Usuario::where('correo_personal', $email)\n                     -&gt;orWhere('correo_institucional', $email)\n                     -&gt;first();\n\n    if ($usuario &amp;&amp; Hash::check($password, $usuario-&gt;contrase\u00f1a)) {\n        Auth::guard('web')-&gt;login($usuario);\n        return $this-&gt;redirectByGuard('web');\n    }\n\n    return back()-&gt;withErrors([\n        'email' =&gt; 'Credenciales incorrectas.',\n    ]);\n}\n\n/**\n * Redirige seg\u00fan el guard autenticado\n */\nprivate function redirectByGuard($guard)\n{\n    $user = Auth::guard($guard)-&gt;user();\n\n    $routes = [\n        'web' =&gt; 'alumno.dashboard',        // Alumnos\n        'profesor' =&gt; 'profesor.dashboard', // Profesores  \n        'coordinador' =&gt; 'coordinador.dashboard' // Coordinadores\n    ];\n\n    // Guardar informaci\u00f3n en sesi\u00f3n\n    session([\n        'user_role' =&gt; $guard === 'web' ? 'alumno' : $guard,\n        'user_fullname' =&gt; $this-&gt;getUserName($user, $guard),\n        'user_identifier' =&gt; $this-&gt;getUserIdentifier($user, $guard)\n    ]);\n\n    return redirect()-&gt;route($routes[$guard]);\n}\n\nprivate function getUserName($user, $guard)\n{\n    switch ($guard) {\n        case 'web': return $user-&gt;nombre_completo;\n        case 'profesor': return $user-&gt;nombre_profesor . ' ' . $user-&gt;apellidos_profesor;\n        case 'coordinador': return $user-&gt;nombre_coordinador . ' ' . $user-&gt;apellidos_coordinador;\n        default: return 'Usuario';\n    }\n}\n\nprivate function getUserIdentifier($user, $guard)\n{\n    switch ($guard) {\n        case 'web': return $user-&gt;numero_control ?? $user-&gt;correo_institucional;\n        case 'profesor': return $user-&gt;rfc_profesor;\n        case 'coordinador': return $user-&gt;rfc_coordinador;\n        default: return '';\n    }\n}\n\n/**\n * REGISTRO (solo para alumnos) - ESTE EST\u00c1 BIEN\n */\npublic function register(Request $request)\n{\n    $validatedData = $request-&gt;validate([\n        'correo_personal' =&gt; 'required|string|email|max:255|unique:usuarios',\n        'nombre_completo' =&gt; 'required|string|max:255',\n        'numero_telefonico' =&gt; 'nullable|string|max:20',\n        'genero' =&gt; 'nullable|in:M,F,Otro',\n        'fecha_nacimiento' =&gt; 'nullable|date',\n        'tipo_usuario' =&gt; 'required|in:interno,externo',\n        'correo_institucional' =&gt; 'nullable|string|email|max:255|unique:usuarios',\n        'numero_control' =&gt; 'nullable|string|max:50|unique:usuarios',\n        'especialidad' =&gt; 'nullable|string|max:100',\n        'password' =&gt; 'required|string|min:8|confirmed',\n    ]);\n\n    try {\n        $usuario = Usuario::create([\n            'correo_personal' =&gt; $validatedData['correo_personal'],\n            'nombre_completo' =&gt; $validatedData['nombre_completo'],\n            'numero_telefonico' =&gt; $validatedData['numero_telefonico'],\n            'genero' =&gt; $validatedData['genero'],\n            'fecha_nacimiento' =&gt; $validatedData['fecha_nacimiento'],\n            'tipo_usuario' =&gt; $validatedData['tipo_usuario'],\n            'correo_institucional' =&gt; $validatedData['correo_institucional'],\n            'numero_control' =&gt; $validatedData['numero_control'],\n            'especialidad' =&gt; $validatedData['especialidad'],\n            'contrase\u00f1a' =&gt; Hash::make($validatedData['password']),\n        ]);\n\n        // Login autom\u00e1tico con guard 'web' (alumnos)\n        Auth::guard('web')-&gt;login($usuario);\n\n        return redirect()-&gt;route('alumno.dashboard')-&gt;with('success', 'Registro exitoso');\n\n    } catch (\\Exception $e) {\n        return redirect()-&gt;back()-&gt;withErrors([\n            'error' =&gt; 'Error en el registro: ' . $e-&gt;getMessage()\n        ]);\n    }\n}\n\n/**\n * LOGOUT para todos los guards - ESTE EST\u00c1 BIEN\n */\npublic function logout(Request $request)\n{\n    $guards = ['web', 'profesor', 'coordinador'];\n\n    foreach ($guards as $guard) {\n        if (Auth::guard($guard)-&gt;check()) {\n            Auth::guard($guard)-&gt;logout();\n        }\n    }\n\n    $request-&gt;session()-&gt;invalidate();\n    $request-&gt;session()-&gt;regenerateToken();\n\n    return redirect('/');\n}\n\n\n/**\n * DASHBOARD COORDINADOR - ACTUALIZADO para usar Auth en lugar de session\n */\n</code></pre> <p>// En AuthController - m\u00e9todo coordinadorDashboard     public function coordinadorDashboard()     {         $estadisticas = [             'total_estudiantes' =&gt; 0,             'preregistrados' =&gt; 0,             'activos' =&gt; 0,             'grupos_activos' =&gt; 0,         ];</p> <pre><code>    $coordinador = Auth::guard('coordinador')-&gt;user();\n\n    return view('coordinador', [ // \u2190 CAMBIAR 'coordinador.dashboard' por 'coordinador'\n        'nombre_completo' =&gt; $coordinador-&gt;nombre_coordinador . ' ' . $coordinador-&gt;apellidos_coordinador,\n        'rfc_coordinador' =&gt; $coordinador-&gt;rfc_coordinador,\n        'estadisticas' =&gt; $estadisticas\n    ]);\n}\n\n// \u2705 AGREGAR ESTE M\u00c9TODO QUE FALTA\npublic function showRegisterForm()\n{\n    return view('register');\n}\n</code></pre> <p>}</p>"},{"location":"sprint-1/autenticacion/","title":"\ud83d\udd10 Sistema de Autenticaci\u00f3n - AuthController","text":""},{"location":"sprint-1/autenticacion/#descripcion-general","title":"\ud83d\udccb Descripci\u00f3n general","text":"<p>Controlador principal que maneja la autenticaci\u00f3n unificada para los tres tipos de usuario del sistema GLOTTY: Alumnos, Profesores y Coordinadores.</p>"},{"location":"sprint-1/autenticacion/#estructura-del-controlador","title":"\ud83c\udfd7\ufe0f Estructura del Controlador","text":""},{"location":"sprint-1/autenticacion/#namespace-e-imports","title":"Namespace e Imports","text":"<pre><code>namespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Auth;\nuse Illuminate\\Support\\Facades\\Hash;\nuse App\\Models\\Usuario;\nuse App\\Models\\Profesor;\nuse App\\Models\\Coordinador;\nuse App\\Models\\Preregistro;\n</code></pre>"},{"location":"sprint-1/autenticacion/#flujo-de-autenticacion-por-capas","title":"Flujo de Autenticaci\u00f3n por Capas","text":"<p>El sistema intenta autenticar en el siguiente orden: Coordinador \u2192 Profesor \u2192 Alumno <pre><code>public function login(Request $request)\n{\n    $request-&gt;validate([\n        'email' =&gt; 'required|string|email',\n        'password' =&gt; 'required|string',\n    ]);\n\n    $email = $request-&gt;email;\n    $password = $request-&gt;password;\n\n    // Capa 1: Autenticaci\u00f3n como COORDINADOR\n    $coordinador = Coordinador::where('correo_coordinador', $email)-&gt;first();\n    if ($coordinador &amp;&amp; Hash::check($password, $coordinador-&gt;contrase\u00f1a)) {\n        Auth::guard('coordinador')-&gt;login($coordinador);\n        return $this-&gt;redirectByGuard('coordinador');\n    }\n\n    // Capa 2: Autenticaci\u00f3n como PROFESOR\n    $profesor = Profesor::where('correo_profesor', $email)-&gt;first();\n    if ($profesor &amp;&amp; Hash::check($password, $profesor-&gt;contrase\u00f1a)) {\n        Auth::guard('profesor')-&gt;login($profesor);\n        return $this-&gt;redirectByGuard('profesor');\n    }\n\n    // Capa 3: Autenticaci\u00f3n como ALUMNO\n    $usuario = Usuario::where('correo_personal', $email)\n                     -&gt;orWhere('correo_institucional', $email)\n                     -&gt;first();\n\n    if ($usuario &amp;&amp; Hash::check($password, $usuario-&gt;contrase\u00f1a)) {\n        Auth::guard('web')-&gt;login($usuario);\n        return $this-&gt;redirectByGuard('web');\n    }\n\n    return back()-&gt;withErrors([\n        'email' =&gt; 'Credenciales incorrectas.',\n    ]);\n}\n</code></pre></p>"}]}