
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentación técnica por Axolotl Solutions">
      
      
        <meta name="author" content="Axolotl Solutions">
      
      
        <link rel="canonical" href="https://isaacjonathansantosrojas22590359.github.io/glottypage/sprints/sprint-3/preregistros/">
      
      
        <link rel="prev" href="../periodo/">
      
      
        <link rel="next" href="../grupo/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Preregistros - Sistema GLOTTY</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-blue" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#documentacion-del-modelo-preregistro" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Sistema GLOTTY" class="md-header__button md-logo" aria-label="Sistema GLOTTY" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Sistema GLOTTY
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Preregistros
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Sistema GLOTTY" class="md-nav__button md-logo" aria-label="Sistema GLOTTY" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Sistema GLOTTY
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../evolucion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evolución del Proyecto
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sprints
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sprints
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sprint 1
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sprint 1
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resumen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/autenticacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Autenticación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/crud-profesores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CRUD Profesores
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/coordinador/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modelo Coordinador
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/profesor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modelo Profesor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/usuario/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modelo Usuario
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sprint 2
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sprint 2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resumen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-2/aulas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gestión de Aulas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-2/aulaController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controlador de Aulas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-2/horarios/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Administración de Horarios
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-2/horarioController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controlador de Horarios
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sprint 3
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sprint 3
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resumen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../periodo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Periodos Académicos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Preregistros
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Preregistros
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#descripcion-general" class="md-nav__link">
    <span class="md-ellipsis">
      
        Descripción General
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructura-del-modelo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estructura del Modelo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Estructura del Modelo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespace-y-definicion-de-clase" class="md-nav__link">
    <span class="md-ellipsis">
      
        Namespace y Definición de Clase
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#propiedades-del-modelo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Propiedades del Modelo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Propiedades del Modelo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#atributos-mass-assignable" class="md-nav__link">
    <span class="md-ellipsis">
      
        Atributos Mass Assignable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#casts-de-atributos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Casts de Atributos
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constantes-del-sistema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Constantes del Sistema
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constantes del Sistema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estados-del-preregistro" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estados del Preregistro
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estados-de-pago-incluye-prorroga" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estados de Pago (Incluye Prórroga)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#niveles-disponibles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Niveles Disponibles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relaciones
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relacion-con-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Usuario
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-periodo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Periodo
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-horariopreferido" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con HorarioPreferido
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-grupoasignado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con GrupoAsignado
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scopes-de-consulta" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scopes de Consulta
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scopes de Consulta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope-de-preregistros-pendientes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope de Preregistros Pendientes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scope-de-preregistros-pagados" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope de Preregistros Pagados
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scope-de-preregistros-que-pueden-asignarse" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope de Preregistros que Pueden Asignarse
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scope-de-preregistros-activos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope de Preregistros Activos
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scope-de-preregistros-con-prorroga" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope de Preregistros con Prórroga
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessors-getters-computados" class="md-nav__link">
    <span class="md-ellipsis">
      
        Accessors (Getters Computados)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accessors (Getters Computados)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nivel-formateado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Nivel Formateado
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estado-formateado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estado Formateado
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estado-de-pago-formateado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estado de Pago Formateado
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#color-de-estado-de-pago" class="md-nav__link">
    <span class="md-ellipsis">
      
        Color de Estado de Pago
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodos-de-negocio" class="md-nav__link">
    <span class="md-ellipsis">
      
        Métodos de Negocio
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Métodos de Negocio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verificar-si-puede-ser-asignado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificar si Puede ser Asignado
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificar-si-esta-listo-para-cursar" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificar si Está Listo para Cursar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificar-si-puede-ser-cancelado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificar si Puede ser Cancelado
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificar-estados-especificos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificar Estados Específicos
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificar-si-esta-vencido" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificar si Está Vencido
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sincronizar-con-estado-del-periodo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sincronizar con Estado del Periodo
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validar-transiciones-de-estado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validar Transiciones de Estado
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flujos-de-trabajo-y-validaciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flujos de Trabajo y Validaciones
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flujos de Trabajo y Validaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ciclo-de-vida-del-preregistro" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ciclo de Vida del Preregistro
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validaciones-de-integridad" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validaciones de Integridad
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-de-prorrogas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Gestión de Prórrogas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integracion-con-el-sistema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integración con el Sistema
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integración con el Sistema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relacion-con-periodos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Periodos
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-grupos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Grupos
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-horarios" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Horarios
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../grupo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gestión de Grupos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../coordinadorGrupoController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controlador Grupo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../periodoController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controlador Periodo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../preregistroController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controlador Preregistros
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sprint 4
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sprint 4
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resumen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-4/grupo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    R-Grupo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-4/horarioPeriodo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Horario Periodo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-4/periodo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    R-Periodo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-4/periodoController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    R-Controlador Periodo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-4/preregistro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    R-Preregistro
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../proximos-sprints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Próximos Sprints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../equipo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Equipo
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#descripcion-general" class="md-nav__link">
    <span class="md-ellipsis">
      
        Descripción General
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructura-del-modelo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estructura del Modelo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Estructura del Modelo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespace-y-definicion-de-clase" class="md-nav__link">
    <span class="md-ellipsis">
      
        Namespace y Definición de Clase
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#propiedades-del-modelo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Propiedades del Modelo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Propiedades del Modelo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#atributos-mass-assignable" class="md-nav__link">
    <span class="md-ellipsis">
      
        Atributos Mass Assignable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#casts-de-atributos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Casts de Atributos
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constantes-del-sistema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Constantes del Sistema
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Constantes del Sistema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estados-del-preregistro" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estados del Preregistro
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estados-de-pago-incluye-prorroga" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estados de Pago (Incluye Prórroga)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#niveles-disponibles" class="md-nav__link">
    <span class="md-ellipsis">
      
        Niveles Disponibles
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relaciones
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relacion-con-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Usuario
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-periodo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Periodo
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-horariopreferido" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con HorarioPreferido
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-grupoasignado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con GrupoAsignado
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scopes-de-consulta" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scopes de Consulta
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Scopes de Consulta">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scope-de-preregistros-pendientes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope de Preregistros Pendientes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scope-de-preregistros-pagados" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope de Preregistros Pagados
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scope-de-preregistros-que-pueden-asignarse" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope de Preregistros que Pueden Asignarse
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scope-de-preregistros-activos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope de Preregistros Activos
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scope-de-preregistros-con-prorroga" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scope de Preregistros con Prórroga
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessors-getters-computados" class="md-nav__link">
    <span class="md-ellipsis">
      
        Accessors (Getters Computados)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accessors (Getters Computados)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nivel-formateado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Nivel Formateado
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estado-formateado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estado Formateado
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estado-de-pago-formateado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estado de Pago Formateado
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#color-de-estado-de-pago" class="md-nav__link">
    <span class="md-ellipsis">
      
        Color de Estado de Pago
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodos-de-negocio" class="md-nav__link">
    <span class="md-ellipsis">
      
        Métodos de Negocio
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Métodos de Negocio">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verificar-si-puede-ser-asignado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificar si Puede ser Asignado
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificar-si-esta-listo-para-cursar" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificar si Está Listo para Cursar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificar-si-puede-ser-cancelado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificar si Puede ser Cancelado
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificar-estados-especificos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificar Estados Específicos
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verificar-si-esta-vencido" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verificar si Está Vencido
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sincronizar-con-estado-del-periodo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sincronizar con Estado del Periodo
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validar-transiciones-de-estado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validar Transiciones de Estado
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flujos-de-trabajo-y-validaciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flujos de Trabajo y Validaciones
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flujos de Trabajo y Validaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ciclo-de-vida-del-preregistro" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ciclo de Vida del Preregistro
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validaciones-de-integridad" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validaciones de Integridad
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-de-prorrogas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Gestión de Prórrogas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integracion-con-el-sistema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integración con el Sistema
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integración con el Sistema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relacion-con-periodos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Periodos
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-grupos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Grupos
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-horarios" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Horarios
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="documentacion-del-modelo-preregistro">Documentación del Modelo Preregistro</h1>
<h2 id="descripcion-general">Descripción General</h2>
<p>El modelo <code>Preregistro</code> representa las solicitudes de preregistro de estudiantes para cursos de inglés en el sistema. Gestiona toda la información relacionada con las inscripciones preliminares de estudiantes, incluyendo niveles solicitados, horarios preferidos, estados de pago y asignación a grupos.</p>
<h2 id="estructura-del-modelo">Estructura del Modelo</h2>
<h3 id="namespace-y-definicion-de-clase">Namespace y Definición de Clase</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="x">namespace App\Models;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="x">use Illuminate\Database\Eloquent\Factories\HasFactory;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="x">use Illuminate\Database\Eloquent\Model;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="x">class Preregistro extends Model</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="x">{</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="x">    use HasFactory;</span>
</span></code></pre></div>
<h2 id="propiedades-del-modelo">Propiedades del Modelo</h2>
<h3 id="atributos-mass-assignable">Atributos Mass Assignable</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="x">protected $fillable = [</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="x">    &#39;usuario_id&#39;,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="x">    &#39;periodo_id&#39;,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="x">    &#39;nivel_solicitado&#39;,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="x">    &#39;horario_preferido_id&#39;,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="x">    &#39;semestre_carrera&#39;,</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="x">    &#39;grupo_asignado_id&#39;,</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="x">    &#39;estado&#39;,</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="x">    &#39;pago_estado&#39;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="x">];</span>
</span></code></pre></div>
<h3 id="casts-de-atributos">Casts de Atributos</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="x">protected $casts = [</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="x">    &#39;nivel_solicitado&#39; =&gt; &#39;integer&#39;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="x">];</span>
</span></code></pre></div>
<h2 id="constantes-del-sistema">Constantes del Sistema</h2>
<h3 id="estados-del-preregistro">Estados del Preregistro</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="x">const ESTADOS = [</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="x">    &#39;pendiente&#39; =&gt; &#39;Pendiente de Asignación&#39;,</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="x">    &#39;asignado&#39; =&gt; &#39;Asignado a Grupo&#39;,</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="x">    &#39;cursando&#39; =&gt; &#39;Cursando&#39;,</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="x">    &#39;finalizado&#39; =&gt; &#39;Finalizado&#39;,</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="x">    &#39;cancelado&#39; =&gt; &#39;Cancelado&#39;</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="x">];</span>
</span></code></pre></div>
<h3 id="estados-de-pago-incluye-prorroga">Estados de Pago (Incluye Prórroga)</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="x">const PAGO_ESTADOS = [</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="x">    &#39;pendiente&#39; =&gt; &#39;Pendiente de Pago&#39;,</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="x">    &#39;prorroga&#39; =&gt; &#39;En Prórroga&#39;,</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="x">    &#39;pagado&#39; =&gt; &#39;Pagado&#39;,</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="x">    &#39;rechazado&#39; =&gt; &#39;Pago Rechazado&#39;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="x">];</span>
</span></code></pre></div>
<h3 id="niveles-disponibles">Niveles Disponibles</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="x">const NIVELES = [</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="x">    1 =&gt; &#39;Nivel 1&#39;,</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="x">    2 =&gt; &#39;Nivel 2&#39;, </span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="x">    3 =&gt; &#39;Nivel 3&#39;,</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="x">    4 =&gt; &#39;Nivel 4&#39;,</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="x">    5 =&gt; &#39;Nivel 5&#39;</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="x">];</span>
</span></code></pre></div>
<h2 id="relaciones">Relaciones</h2>
<h3 id="relacion-con-usuario">Relación con Usuario</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="x">public function usuario()</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="x">{</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="x">    return $this-&gt;belongsTo(Usuario::class);</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="relacion-con-periodo">Relación con Periodo</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="x">public function periodo()</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="x">{</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="x">    return $this-&gt;belongsTo(Periodo::class);</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="relacion-con-horariopreferido">Relación con HorarioPreferido</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="x">public function horarioPreferido()</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="x">{</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="x">    return $this-&gt;belongsTo(HorarioPeriodo::class, &#39;horario_preferido_id&#39;);</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="relacion-con-grupoasignado">Relación con GrupoAsignado</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="x">public function grupoAsignado()</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="x">{</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="x">    return $this-&gt;belongsTo(Grupo::class, &#39;grupo_asignado_id&#39;);</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="x">}</span>
</span></code></pre></div>
<h2 id="scopes-de-consulta">Scopes de Consulta</h2>
<h3 id="scope-de-preregistros-pendientes">Scope de Preregistros Pendientes</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="x">public function scopePendientes($query)</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="x">{</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="x">    return $query-&gt;where(&#39;estado&#39;, &#39;pendiente&#39;);</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="scope-de-preregistros-pagados">Scope de Preregistros Pagados</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="x">public function scopePagados($query)</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="x">{</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="x">    return $query-&gt;where(&#39;pago_estado&#39;, &#39;pagado&#39;);</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="scope-de-preregistros-que-pueden-asignarse">Scope de Preregistros que Pueden Asignarse</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="x">public function scopePuedenAsignarse($query)</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="x">{</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="x">    return $query-&gt;where(&#39;estado&#39;, &#39;pendiente&#39;)</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="x">                -&gt;whereIn(&#39;pago_estado&#39;, [&#39;pagado&#39;, &#39;prorroga&#39;]);</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="scope-de-preregistros-activos">Scope de Preregistros Activos</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="x">public function scopeActivos($query)</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="x">{</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="x">    return $query-&gt;whereIn(&#39;estado&#39;, [&#39;pendiente&#39;, &#39;asignado&#39;, &#39;cursando&#39;]);</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="scope-de-preregistros-con-prorroga">Scope de Preregistros con Prórroga</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="x">public function scopeConProrroga($query)</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="x">{</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="x">    return $query-&gt;where(&#39;pago_estado&#39;, &#39;prorroga&#39;);</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="x">}</span>
</span></code></pre></div>
<h2 id="accessors-getters-computados">Accessors (Getters Computados)</h2>
<h3 id="nivel-formateado">Nivel Formateado</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="x">public function getNivelFormateadoAttribute()</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="x">{</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="x">    return self::NIVELES[$this-&gt;nivel_solicitado] ?? &quot;Nivel {$this-&gt;nivel_solicitado}&quot;;</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="estado-formateado">Estado Formateado</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="x">public function getEstadoFormateadoAttribute()</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="x">{</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="x">    return self::ESTADOS[$this-&gt;estado] ?? $this-&gt;estado;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="estado-de-pago-formateado">Estado de Pago Formateado</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="x">public function getPagoEstadoFormateadoAttribute()</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="x">{</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="x">    return self::PAGO_ESTADOS[$this-&gt;pago_estado] ?? $this-&gt;pago_estado;</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="color-de-estado-de-pago">Color de Estado de Pago</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="x">public function getColorPagoAttribute()</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="x">{</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="x">    return match($this-&gt;pago_estado) {</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="x">        &#39;pendiente&#39; =&gt; &#39;yellow&#39;,</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="x">        &#39;prorroga&#39; =&gt; &#39;blue&#39;,</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="x">        &#39;pagado&#39; =&gt; &#39;green&#39;,</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="x">        &#39;rechazado&#39; =&gt; &#39;red&#39;,</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="x">        default =&gt; &#39;gray&#39;</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="x">    };</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="x">}</span>
</span></code></pre></div>
<h2 id="metodos-de-negocio">Métodos de Negocio</h2>
<h3 id="verificar-si-puede-ser-asignado">Verificar si Puede ser Asignado</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="x">public function puedeSerAsignado()</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="x">{</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="x">    return $this-&gt;estado === &#39;pendiente&#39; &amp;&amp; </span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="x">           in_array($this-&gt;pago_estado, [&#39;pagado&#39;, &#39;prorroga&#39;]) &amp;&amp;</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="x">           $this-&gt;periodo-&gt;aceptaPreRegistros();</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="x">}</span>
</span></code></pre></div>
<p><strong>Condiciones para asignación:</strong>
- Estado debe ser 'pendiente'
- Pago debe estar 'pagado' o 'prorroga'
- El periodo debe aceptar preregistros</p>
<h3 id="verificar-si-esta-listo-para-cursar">Verificar si Está Listo para Cursar</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="x">public function estaListoParaCursar()</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="x">{</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="x">    return $this-&gt;estado === &#39;asignado&#39; &amp;&amp; </span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="x">           in_array($this-&gt;pago_estado, [&#39;pagado&#39;, &#39;prorroga&#39;]);</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="verificar-si-puede-ser-cancelado">Verificar si Puede ser Cancelado</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="x">public function puedeSerCancelado()</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="x">{</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="x">    return in_array($this-&gt;estado, [&#39;pendiente&#39;, &#39;asignado&#39;]) &amp;&amp;</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="x">           !$this-&gt;periodo-&gt;estaFinalizado();</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="verificar-estados-especificos">Verificar Estados Específicos</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="x">public function estaCursando()</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="x">{</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="x">    return $this-&gt;estado === &#39;cursando&#39;;</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="x">}</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="x">public function estaFinalizado()</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="x">{</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="x">    return $this-&gt;estado === &#39;finalizado&#39;;</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="x">}</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="x">public function estaCancelado()</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="x">{</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="x">    return $this-&gt;estado === &#39;cancelado&#39;;</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="x">}</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="x">public function tieneProrroga()</span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="x">{</span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="x">    return $this-&gt;pago_estado === &#39;prorroga&#39;;</span>
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a><span class="x">}</span>
</span></code></pre></div>
<h3 id="verificar-si-esta-vencido">Verificar si Está Vencido</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="x">public function estaVencido()</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="x">{</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="x">    return $this-&gt;pago_estado === &#39;pendiente&#39; &amp;&amp; </span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="x">           $this-&gt;created_at-&gt;diffInDays(now()) &gt; 7;</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="x">}</span>
</span></code></pre></div>
<p><strong>Lógica de vencimiento:</strong>
- Solo aplica para estado de pago 'pendiente'
- Considera vencido después de 7 días desde la creación</p>
<h3 id="sincronizar-con-estado-del-periodo">Sincronizar con Estado del Periodo</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="x">public function sincronizarConPeriodo()</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="x">{</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="x">    if ($this-&gt;periodo-&gt;estaEnCurso() &amp;&amp; $this-&gt;estaListoParaCursar()) {</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="x">        $this-&gt;update([&#39;estado&#39; =&gt; &#39;cursando&#39;]);</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="x">    }</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="x">    if ($this-&gt;periodo-&gt;estaFinalizado() &amp;&amp; $this-&gt;estado === &#39;cursando&#39;) {</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="x">        $this-&gt;update([&#39;estado&#39; =&gt; &#39;finalizado&#39;]);</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="x">    }</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="x">}</span>
</span></code></pre></div>
<p><strong>Automatización de estados:</strong>
- Cambia a 'cursando' cuando el periodo inicia y el preregistro está listo
- Cambia a 'finalizado' cuando el periodo finaliza y estaba cursando</p>
<h3 id="validar-transiciones-de-estado">Validar Transiciones de Estado</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="x">public function puedeCambiarA($nuevoEstado)</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="x">{</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="x">    $transicionesPermitidas = [</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="x">        &#39;pendiente&#39; =&gt; [&#39;asignado&#39;, &#39;cancelado&#39;],</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="x">        &#39;asignado&#39; =&gt; [&#39;cursando&#39;, &#39;cancelado&#39;],</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="x">        &#39;cursando&#39; =&gt; [&#39;finalizado&#39;],</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="x">        &#39;finalizado&#39; =&gt; [],</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="x">        &#39;cancelado&#39; =&gt; []</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="x">    ];</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="x">    return in_array($nuevoEstado, $transicionesPermitidas[$this-&gt;estado]);</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="x">}</span>
</span></code></pre></div>
<p><strong>Reglas de transición:</strong>
- <strong>pendiente</strong> → asignado, cancelado
- <strong>asignado</strong> → cursando, cancelado<br />
- <strong>cursando</strong> → finalizado
- <strong>finalizado</strong> → (sin transiciones permitidas)
- <strong>cancelado</strong> → (sin transiciones permitidas)</p>
<h2 id="flujos-de-trabajo-y-validaciones">Flujos de Trabajo y Validaciones</h2>
<h3 id="ciclo-de-vida-del-preregistro">Ciclo de Vida del Preregistro</h3>
<ol>
<li><strong>Creación</strong>: Estado inicial 'pendiente', pago 'pendiente'</li>
<li><strong>Pago</strong>: Cambia a 'pagado' o 'prorroga'</li>
<li><strong>Asignación</strong>: Cambia a 'asignado' cuando se asigna a grupo</li>
<li><strong>Inicio de Curso</strong>: Cambia a 'cursando' cuando el periodo inicia</li>
<li><strong>Finalización</strong>: Cambia a 'finalizado' cuando el periodo termina</li>
<li><strong>Cancelación</strong>: Puede cancelarse en estados 'pendiente' o 'asignado'</li>
</ol>
<h3 id="validaciones-de-integridad">Validaciones de Integridad</h3>
<p><strong>Para Asignación a Grupo:</strong>
- Preregistro debe estar en estado 'pendiente'
- Pago debe estar 'pagado' o 'prorroga'
- Periodo debe aceptar preregistros</p>
<p><strong>Para Inicio de Curso:</strong>
- Preregistro debe estar 'asignado'
- Pago debe estar 'pagado' o 'prorroga'
- Periodo debe estar 'en_curso'</p>
<p><strong>Para Cancelación:</strong>
- Solo permitido en estados 'pendiente' o 'asignado'
- Periodo no debe estar finalizado</p>
<h3 id="gestion-de-prorrogas">Gestión de Prórrogas</h3>
<p><strong>Características de la prórroga:</strong>
- Estado de pago especial 'prorroga'
- Permite asignación a grupos igual que 'pagado'
- Color azul en interfaces para identificación visual
- Scope específico para consultas</p>
<h2 id="integracion-con-el-sistema">Integración con el Sistema</h2>
<h3 id="relacion-con-periodos">Relación con Periodos</h3>
<ul>
<li>Los preregistros están vinculados a periodos específicos</li>
<li>Sincronización automática con cambios de estado del periodo</li>
<li>Validación de que el periodo acepte preregistros</li>
</ul>
<h3 id="relacion-con-grupos">Relación con Grupos</h3>
<ul>
<li>Asignación opcional a grupos mediante <code>grupo_asignado_id</code></li>
<li>Información del grupo disponible a través de la relación</li>
</ul>
<h3 id="relacion-con-horarios">Relación con Horarios</h3>
<ul>
<li>Horario preferido seleccionado durante el preregistro</li>
<li>Información del horario base disponible para mostrar al estudiante</li>
</ul>
<p>Este modelo proporciona una gestión completa de los preregistros de estudiantes con validaciones robustas que garantizan la integridad de los datos y automatizaciones que sincronizan el estado del preregistro con el ciclo de vida del periodo académico.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>