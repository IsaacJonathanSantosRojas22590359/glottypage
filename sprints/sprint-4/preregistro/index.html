
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentación técnica por Axolotl Solutions">
      
      
        <meta name="author" content="Axolotl Solutions">
      
      
        <link rel="canonical" href="https://isaacjonathansantosrojas22590359.github.io/glottypage/sprints/sprint-4/preregistro/">
      
      
        <link rel="prev" href="../periodoController/">
      
      
        <link rel="next" href="../../proximos-sprints/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>R-Preregistro - Sistema GLOTTY</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-blue" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#preregistro-gestion-de-solicitudes-academicas" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Sistema GLOTTY" class="md-header__button md-logo" aria-label="Sistema GLOTTY" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Sistema GLOTTY
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              R-Preregistro
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Sistema GLOTTY" class="md-nav__button md-logo" aria-label="Sistema GLOTTY" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Sistema GLOTTY
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../evolucion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evolución del Proyecto
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sprints
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sprints
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sprint 1
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sprint 1
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resumen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/autenticacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Autenticación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/crud-profesores/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CRUD Profesores
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/coordinador/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modelo Coordinador
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/profesor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modelo Profesor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-1/usuario/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modelo Usuario
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sprint 2
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sprint 2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resumen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-2/aulas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gestión de Aulas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-2/aulaController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controlador de Aulas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-2/horarios/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Administración de Horarios
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-2/horarioController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controlador de Horarios
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sprint 3
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sprint 3
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resumen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-3/periodo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Periodos Académicos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-3/preregistros/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Preregistros
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-3/grupo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gestión de Grupos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-3/coordinadorGrupoController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controlador Grupo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-3/periodoController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controlador Periodo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sprint-3/preregistroController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controlador Preregistros
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sprint 4
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sprint 4
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resumen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../grupo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    R-Grupo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../horarioPeriodo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Horario Periodo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../periodo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    R-Periodo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../periodoController/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    R-Controlador Periodo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    R-Preregistro
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    R-Preregistro
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#descripcion-general" class="md-nav__link">
    <span class="md-ellipsis">
      
        Descripción General
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructura-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estructura de Datos
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Estructura de Datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#campos-principales-y-relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Campos Principales y Relaciones
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sistema-de-estados" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sistema de Estados
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sistema de Estados">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estados-academicos-del-preregistro" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estados Académicos del Preregistro
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estados-de-pago-con-prorroga" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estados de Pago con Prórroga
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relaciones-contextualizadas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relaciones Contextualizadas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relaciones Contextualizadas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relacion-con-periodo-academico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Periodo Académico
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-horario-preferido" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Horario Preferido
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-grupo-asignado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Grupo Asignado
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sistema-de-consultas-especializadas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sistema de Consultas Especializadas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sistema de Consultas Especializadas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scopes-para-gestion-operativa" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scopes para Gestión Operativa
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logica-de-negocio-avanzada" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lógica de Negocio Avanzada
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lógica de Negocio Avanzada">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validaciones-de-asignacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validaciones de Asignación
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sincronizacion-con-periodo-academico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sincronización con Periodo Académico
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-de-vencimientos-y-prorrogas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Gestión de Vencimientos y Prórrogas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transiciones-de-estado-controladas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Transiciones de Estado Controladas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transiciones de Estado Controladas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matriz-de-transiciones-permitidas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Matriz de Transiciones Permitidas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilidades-de-presentacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Utilidades de Presentación
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilidades de Presentación">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#formateo-de-datos-para-interfaz" class="md-nav__link">
    <span class="md-ellipsis">
      
        Formateo de Datos para Interfaz
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sistema-de-colores-para-estados-de-pago" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sistema de Colores para Estados de Pago
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#impacto-de-la-reestructuracion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Impacto de la Reestructuración
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../proximos-sprints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Próximos Sprints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../equipo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Equipo
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#descripcion-general" class="md-nav__link">
    <span class="md-ellipsis">
      
        Descripción General
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estructura-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estructura de Datos
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Estructura de Datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#campos-principales-y-relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      
        Campos Principales y Relaciones
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sistema-de-estados" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sistema de Estados
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sistema de Estados">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estados-academicos-del-preregistro" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estados Académicos del Preregistro
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estados-de-pago-con-prorroga" class="md-nav__link">
    <span class="md-ellipsis">
      
        Estados de Pago con Prórroga
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relaciones-contextualizadas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relaciones Contextualizadas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Relaciones Contextualizadas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relacion-con-periodo-academico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Periodo Académico
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-horario-preferido" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Horario Preferido
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-con-grupo-asignado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relación con Grupo Asignado
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sistema-de-consultas-especializadas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sistema de Consultas Especializadas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sistema de Consultas Especializadas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scopes-para-gestion-operativa" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scopes para Gestión Operativa
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logica-de-negocio-avanzada" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lógica de Negocio Avanzada
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lógica de Negocio Avanzada">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validaciones-de-asignacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validaciones de Asignación
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sincronizacion-con-periodo-academico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sincronización con Periodo Académico
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-de-vencimientos-y-prorrogas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Gestión de Vencimientos y Prórrogas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transiciones-de-estado-controladas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Transiciones de Estado Controladas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transiciones de Estado Controladas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matriz-de-transiciones-permitidas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Matriz de Transiciones Permitidas
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilidades-de-presentacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Utilidades de Presentación
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilidades de Presentación">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#formateo-de-datos-para-interfaz" class="md-nav__link">
    <span class="md-ellipsis">
      
        Formateo de Datos para Interfaz
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sistema-de-colores-para-estados-de-pago" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sistema de Colores para Estados de Pago
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#impacto-de-la-reestructuracion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Impacto de la Reestructuración
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="preregistro-gestion-de-solicitudes-academicas">Preregistro - Gestión de Solicitudes Académicas</h1>
<h2 id="descripcion-general">Descripción General</h2>
<p>El modelo Preregistro gestiona el proceso completo de solicitudes de inscripción de estudiantes dentro del sistema GLOTTY. Después de la reestructuración del Sprint 4, este modelo establece una relación obligatoria con el periodo académico, contextualizando todas las solicitudes dentro de un ciclo escolar específico y sincronizando su estado con el flujo del periodo.</p>
<h2 id="estructura-de-datos">Estructura de Datos</h2>
<h3 id="campos-principales-y-relaciones">Campos Principales y Relaciones</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="x">protected $fillable = [</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="x">    &#39;usuario_id&#39;,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="x">    &#39;periodo_id&#39;,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="x">    &#39;nivel_solicitado&#39;,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="x">    &#39;horario_preferido_id&#39;,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="x">    &#39;semestre_carrera&#39;,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="x">    &#39;grupo_asignado_id&#39;,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="x">    &#39;estado&#39;,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="x">    &#39;pago_estado&#39;</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="x">];</span>
</span></code></pre></div>
<p>El modelo captura toda la información necesaria para el proceso de preregistro, incluyendo la identificación del estudiante, el periodo académico objetivo, el nivel solicitado, preferencias de horario, y el estado tanto académico como financiero de la solicitud.</p>
<h3 id="sistema-de-estados">Sistema de Estados</h3>
<h4 id="estados-academicos-del-preregistro">Estados Académicos del Preregistro</h4>
<div class="language-php highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="x">const ESTADOS = [</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="x">    &#39;pendiente&#39; =&gt; &#39;Pendiente de Asignación&#39;,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="x">    &#39;asignado&#39; =&gt; &#39;Asignado a Grupo&#39;,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="x">    &#39;cursando&#39; =&gt; &#39;Cursando&#39;,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="x">    &#39;finalizado&#39; =&gt; &#39;Finalizado&#39;,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="x">    &#39;cancelado&#39; =&gt; &#39;Cancelado&#39;</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="x">];</span>
</span></code></pre></div>
<p>El flujo académico sigue una progresión lógica desde la solicitud inicial hasta la finalización o cancelación. Cada estado representa una fase específica en el ciclo de vida del preregistro, con transiciones controladas que aseguran la integridad del proceso.</p>
<h4 id="estados-de-pago-con-prorroga">Estados de Pago con Prórroga</h4>
<div class="language-php highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="x">const PAGO_ESTADOS = [</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="x">    &#39;pendiente&#39; =&gt; &#39;Pendiente de Pago&#39;,</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="x">    &#39;prorroga&#39; =&gt; &#39;En Prórroga&#39;,</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="x">    &#39;pagado&#39; =&gt; &#39;Pagado&#39;,</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="x">    &#39;rechazado&#39; =&gt; &#39;Pago Rechazado&#39;</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="x">];</span>
</span></code></pre></div>
<p>El sistema de pagos incorpora un estado de prórroga que permite flexibilidad en los plazos de pago mientras mantiene el control sobre el proceso financiero. Esta adición responde a necesidades operativas reales sin comprometer la gestión financiera.</p>
<h2 id="relaciones-contextualizadas">Relaciones Contextualizadas</h2>
<h3 id="relacion-con-periodo-academico">Relación con Periodo Académico</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="x">public function periodo()</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="x">{</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="x">    return $this-&gt;belongsTo(Periodo::class);</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="x">}</span>
</span></code></pre></div>
<p>La relación obligatoria con el modelo Periodo constituye el cambio arquitectónico más significativo. Cada preregistro queda vinculado a un periodo académico específico, permitiendo la sincronización automática de estados y la contextualización de todas las operaciones.</p>
<h3 id="relacion-con-horario-preferido">Relación con Horario Preferido</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="x">public function horarioPreferido()</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="x">{</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="x">    return $this-&gt;belongsTo(HorarioPeriodo::class, &#39;horario_preferido_id&#39;);</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="x">}</span>
</span></code></pre></div>
<p>La preferencia de horario se establece mediante relación con HorarioPeriodo, asegurando que las opciones presentadas al estudiante estén contextualizadas dentro del periodo académico activo.</p>
<h3 id="relacion-con-grupo-asignado">Relación con Grupo Asignado</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="x">public function grupoAsignado()</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="x">{</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="x">    return $this-&gt;belongsTo(Grupo::class, &#39;grupo_asignado_id&#39;);</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="x">}</span>
</span></code></pre></div>
<p>Una vez asignado, el preregistro establece relación con el grupo específico donde el estudiante cursará, completando el proceso de inscripción.</p>
<h2 id="sistema-de-consultas-especializadas">Sistema de Consultas Especializadas</h2>
<h3 id="scopes-para-gestion-operativa">Scopes para Gestión Operativa</h3>
<p>El modelo incluye scopes optimizados para las operaciones más comunes:</p>
<ul>
<li>pendientes: Filtra solicitudes pendientes de asignación</li>
<li>pagados: Identifica preregistros con pago completado</li>
<li>puedenAsignarse: Combina estado pendiente con estados de pago válidos (incluyendo prórroga)</li>
<li>activos: Agrupa todos los estados académicos activos</li>
<li>conProrroga: Específico para gestionar casos con extensión de pago</li>
</ul>
<p>Estos scopes facilitan la implementación de lógica de negocio compleja mediante consultas simples y legibles.</p>
<h2 id="logica-de-negocio-avanzada">Lógica de Negocio Avanzada</h2>
<h3 id="validaciones-de-asignacion">Validaciones de Asignación</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="x">public function puedeSerAsignado()</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="x">{</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="x">    return $this-&gt;estado === &#39;pendiente&#39; &amp;&amp; </span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="x">           in_array($this-&gt;pago_estado, [&#39;pagado&#39;, &#39;prorroga&#39;]) &amp;&amp;</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="x">           $this-&gt;periodo-&gt;aceptaPreRegistros();</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="x">}</span>
</span></code></pre></div>
<p>El método valida múltiples condiciones para determinar si un preregistro puede ser asignado a un grupo: estado académico pendiente, pago en estado válido (incluyendo prórroga), y periodo académico que acepte preregistros activamente.</p>
<h3 id="sincronizacion-con-periodo-academico">Sincronización con Periodo Académico</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="x">public function sincronizarConPeriodo()</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="x">{</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="x">    if ($this-&gt;periodo-&gt;estaEnCurso() &amp;&amp; $this-&gt;estaListoParaCursar()) {</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="x">        $this-&gt;update([&#39;estado&#39; =&gt; &#39;cursando&#39;]);</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="x">    }</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="x">    if ($this-&gt;periodo-&gt;estaFinalizado() &amp;&amp; $this-&gt;estado === &#39;cursando&#39;) {</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="x">        $this-&gt;update([&#39;estado&#39; =&gt; &#39;finalizado&#39;]);</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="x">    }</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="x">}</span>
</span></code></pre></div>
<p>Este método implementa la sincronización automática entre el estado del preregistro y el estado del periodo académico. Cuando un periodo inicia, los preregistros asignados y con pago en orden cambian automáticamente a estado "cursando". Al finalizar el periodo, los preregistros en curso se marcan como finalizados.</p>
<h3 id="gestion-de-vencimientos-y-prorrogas">Gestión de Vencimientos y Prórrogas</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="x">public function estaVencido()</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="x">{</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="x">    return $this-&gt;pago_estado === &#39;pendiente&#39; &amp;&amp; </span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="x">           $this-&gt;created_at-&gt;diffInDays(now()) &gt; 7;</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="x">}</span>
</span></code></pre></div>
<p>El sistema diferencia claramente entre preregistros pendientes de pago (sujetos a vencimiento) y aquellos en prórroga (exentos de vencimiento automático), proporcionando flexibilidad operativa mientras mantiene controles financieros.</p>
<h2 id="transiciones-de-estado-controladas">Transiciones de Estado Controladas</h2>
<h3 id="matriz-de-transiciones-permitidas">Matriz de Transiciones Permitidas</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="x">public function puedeCambiarA($nuevoEstado)</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="x">{</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="x">    $transicionesPermitidas = [</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="x">        &#39;pendiente&#39; =&gt; [&#39;asignado&#39;, &#39;cancelado&#39;],</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="x">        &#39;asignado&#39; =&gt; [&#39;cursando&#39;, &#39;cancelado&#39;],</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="x">        &#39;cursando&#39; =&gt; [&#39;finalizado&#39;],</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="x">        &#39;finalizado&#39; =&gt; [],</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="x">        &#39;cancelado&#39; =&gt; []</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="x">    ];</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="x">    return in_array($nuevoEstado, $transicionesPermitidas[$this-&gt;estado]);</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="x">}</span>
</span></code></pre></div>
<p>El modelo implementa un sistema de transiciones de estado estricto que previene cambios inválidos en el flujo académico. Los estados finales (finalizado, cancelado) son terminales, mientras que los estados intermedios permiten solo transiciones lógicas y controladas.</p>
<h2 id="utilidades-de-presentacion">Utilidades de Presentación</h2>
<h3 id="formateo-de-datos-para-interfaz">Formateo de Datos para Interfaz</h3>
<p>Los accesores getNivelFormateadoAttribute, getEstadoFormateadoAttribute y getPagoEstadoFormateadoAttribute transforman los valores técnicos almacenados en la base de datos en representaciones legibles para el usuario final, mejorando la experiencia en interfaces administrativas.</p>
<h3 id="sistema-de-colores-para-estados-de-pago">Sistema de Colores para Estados de Pago</h3>
<div class="language-php highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="x">public function getColorPagoAttribute()</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="x">{</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="x">    return match($this-&gt;pago_estado) {</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="x">        &#39;pendiente&#39; =&gt; &#39;yellow&#39;,</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="x">        &#39;prorroga&#39; =&gt; &#39;blue&#39;,</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="x">        &#39;pagado&#39; =&gt; &#39;green&#39;,</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="x">        &#39;rechazado&#39; =&gt; &#39;red&#39;,</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="x">        default =&gt; &#39;gray&#39;</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="x">    };</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="x">}</span>
</span></code></pre></div>
<p>Proporciona una representación visual consistente de los estados de pago a través de colores estandarizados, facilitando la identificación rápida de situaciones que requieren atención en dashboards administrativos.</p>
<h2 id="impacto-de-la-reestructuracion">Impacto de la Reestructuración</h2>
<p>La integración obligatoria con el modelo Periodo transformó significativamente la gestión de preregistros:</p>
<ul>
<li>Contextualización automática dentro de ciclos académicos específicos</li>
<li>Sincronización bidireccional entre estados de preregistro y periodo</li>
<li>Validaciones basadas en el estado operativo del periodo académico</li>
<li>Capacidad de generar reportes históricos por periodo</li>
<li>Prevención de operaciones fuera de contexto temporal</li>
</ul>
<p>Esta arquitectura asegura que cada preregistro opere dentro del contexto temporal correcto, proporcionando coherencia organizacional y facilitando la gestión académica institucional.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>